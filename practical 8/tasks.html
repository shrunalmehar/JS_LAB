<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Gym Admission Form</title>
  <style>
    body { font-family: Arial; margin: 20px; }
    form { width: 350px; padding: 20px; border: 1px solid #ccc; border-radius: 8px; }
    input, select { width: 100%; padding: 8px; margin: 6px 0; }
    span.error { color: red; font-size: 12px; }
    .success { color: green; font-size: 13px; }
  </style>
</head>
<body>

<h2>Gym Admission Form</h2>

<form id="gymForm" onsubmit="return validateForm()">
  <label>Name:</label>
  <input type="text" id="name" onblur="validateName()" required>
  <span id="nameErr" class="error"></span><br>

  <label>Email:</label>
  <input type="email" id="email" oninput="validateEmail()" required>
  <span id="emailErr" class="error"></span><br>

  <label>Age:</label>
  <input type="number" id="age" onchange="validateAge()" required>
  <span id="ageErr" class="error"></span><br>

  <label>Password:</label>
  <input type="password" id="password" onkeyup="checkPasswordStrength()" required>
  <span id="passErr" class="error"></span><br>

  <label>Confirm Password:</label>
  <input type="password" id="confirmPassword" onblur="matchPassword()" required>
  <span id="confirmErr" class="error"></span><br>

  <label>Gender:</label><br>
  <input type="radio" name="gender" value="Male"> Male
  <input type="radio" name="gender" value="Female"> Female
  <span id="genderErr" class="error"></span><br><br>

  <label>City:</label>
  <select id="city" onchange="validateCity()">
    <option value="">--Select City--</option>
    <option value="Delhi">Delhi</option>
    <option value="Mumbai">Mumbai</option>
    <option value="Chennai">Chennai</option>
  </select>
  <span id="cityErr" class="error"></span><br>

  <label>Date of Birth:</label>
  <input type="date" id="dob" onchange="validateDOB()">
  <span id="dobErr" class="error"></span><br>

  <label>Upload ID Proof (PDF only):</label>
  <input type="file" id="idproof" onchange="validateFile()">
  <span id="fileErr" class="error"></span><br>

  <input type="submit" value="Submit">
</form>

<script>
function validateName() {
  let name = document.getElementById("name").value;
  document.getElementById("nameErr").innerText =
    (name.trim().length < 3) ? "Name must be at least 3 characters" : "";
}

function validateEmail() {
  let email = document.getElementById("email").value;
  let pattern = /^[^ ]+@[^ ]+\.[a-z]{2,3}$/;
  document.getElementById("emailErr").innerText =
    (!pattern.test(email)) ? "Invalid email" : "";
}

function validateAge() {
  let age = document.getElementById("age").value;
  document.getElementById("ageErr").innerText =
    (age < 18 || age > 60) ? "Age must be 18-60" : "";
}

function checkPasswordStrength() {
  let pass = document.getElementById("password").value;
  let pattern = /^(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*[@#$%^&+=]).{8,}$/;
  document.getElementById("passErr").innerText =
    (!pattern.test(pass)) ? "Weak password!" : "âœ” Strong Password";
  document.getElementById("passErr").className =
    (!pattern.test(pass)) ? "error" : "success";
}

function matchPassword() {
  let pass = document.getElementById("password").value;
  let confirm = document.getElementById("confirmPassword").value;
  document.getElementById("confirmErr").innerText =
    (pass !== confirm) ? "Passwords do not match" : "";
}

function validateGender() {
  let gender = document.querySelector('input[name="gender"]:checked');
  document.getElementById("genderErr").innerText =
    (!gender) ? "Select gender" : "";
}

function validateCity() {
  let city = document.getElementById("city").value;
  document.getElementById("cityErr").innerText =
    (city === "") ? "Select city" : "";
}

function validateDOB() {
  let dob = new Date(document.getElementById("dob").value);
  let today = new Date();
  document.getElementById("dobErr").innerText =
    (dob > today) ? "DOB cannot be future date" : "";
}

function validateFile() {
  let file = document.getElementById("idproof").files[0];
  if (!file) return;
  if (file.size > 2*1024*1024)
    document.getElementById("fileErr").innerText = "File too large (>2MB)";
  else if (!file.name.endsWith(".pdf"))
    document.getElementById("fileErr").innerText = "Only PDF allowed";
  else document.getElementById("fileErr").innerText = "";
}

function validateForm() {
  validateName(); validateEmail(); validateAge();
  checkPasswordStrength(); matchPassword();
  validateGender(); validateCity(); validateDOB(); validateFile();
  let errors = document.querySelectorAll(".error");
  for (let e of errors) { if (e.innerText !== "") return false; }
  alert("Form submitted successfully!");
  return true;
}
</script>

</body>
</html>
